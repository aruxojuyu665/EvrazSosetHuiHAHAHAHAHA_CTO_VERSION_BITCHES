# GOST RAG System - –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

**–î–∞—Ç–∞:** 30 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–µ–∫—Ç:** RAG —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ì–û–°–¢  
**–°–µ—Ä–≤–µ—Ä:** RunPod GPU Instance (RTX 3090, 24GB VRAM)

---

## 1. –ß–¢–û –°–î–ï–õ–ê–õ–ò?

### ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã (–ª–æ–∫–∞–ª—å–Ω–æ)

**–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç RAG —Å–∏—Å—Ç–µ–º—ã:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ –∏ –ì–û–°–¢ 27772-2021
- RAG —Å–∏—Å—Ç–µ–º–∞ —Å LlamaIndex + OpenRouter API + Milvus
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (intfloat/multilingual-e5-large)
- GPU –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (CUDA 12.1+)
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (19/19 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ)
- Code Review (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 10 –∏–∑ 12 –æ—à–∏–±–æ–∫ P1/P2)
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (8 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)

**–§–∞–π–ª—ã:**
- `src/` - –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (13 Python –º–æ–¥—É–ª–µ–π)
- `tests/` - —Ç–µ—Å—Ç—ã (11 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤)
- `docs/` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `Dockerfile.gpu` - Docker –æ–±—Ä–∞–∑ —Å GPU
- `docker-compose.gpu.yml` - –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/aruxojuyu665/EvrazSosetHuiHAHAHAHAHA_CTO_VERSION_BITCHES  
**–í–µ—Ç–∫–∞:** RAG-Milvus-Manus-Edition

### ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–°–æ–∑–¥–∞–Ω —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- React 19 + TypeScript + Tailwind CSS
- tRPC backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∞—Å—Å–∞—Ö –ø—Ä–æ—á–Ω–æ—Å—Ç–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- GPU –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ü—Ä–æ–µ–∫—Ç:** gost_rag_web  
**Checkpoint:** manus-webdev://459dc36c

### ‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ RunPod

**–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:**
1. ‚úÖ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
2. ‚úÖ Python 3.11.14 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ
4. ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (~3.5 GB)
   - PyTorch 2.9.0 + CUDA 12.8
   - LlamaIndex 0.14.6
   - Transformers 4.57.1
   - Sentence-transformers 5.1.2
   - Milvus 2.3.5 (Lite)
5. ‚úÖ –ö–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
6. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
7. ‚úÖ API –∫–ª—é—á OpenRouter –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## 2. –ö–ê–ö–ò–ï –†–ï–®–ò–õ–ò –ü–†–û–ë–õ–ï–ú–´?

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Python 3.12 –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å llama-index
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Python 3.11.14 –∏–∑ deadsnakes PPA  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç `milvus` –≤ requirements.txt
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏–ª–∏ –Ω–∞ `pymilvus==2.6.2` + `milvus==2.3.5` (Lite)  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Milvus Lite —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–ª–∞ EMBEDDING_API_KEY –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–∏–ª–∏ `config.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è `embedding_type == "openai"`  
**–ú–µ—Ç–æ–¥:** 
- –°–∫–∞—á–∞–ª–∏ —Ñ–∞–π–ª —Å —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ SCP
- –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ file tool
- –ó–∞–≥—Ä—É–∑–∏–ª–∏ –æ–±—Ä–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ SCP
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ API –∫–ª—é—á–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ê—Ç—Ä–∏–±—É—Ç `type` –≤–º–µ—Å—Ç–æ `embedding_type`
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–∏–ª–∏ `self.embedding.type` ‚Üí `self.embedding.embedding_type`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞ 5: Retry decorator AttributeError
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É `hasattr(func, '__name__')`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ 6: –î–æ–ª–≥–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ CUDA –±–∏–±–ª–∏–æ—Ç–µ–∫
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏–ª–∏ –≤ —Ñ–æ–Ω–µ, –¥–æ–∂–¥–∞–ª–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (~30 –º–∏–Ω—É—Ç)  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ CUDA –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

---

## 3. –ß–¢–û –ò–ú–ï–ï–ú –°–ï–ô–ß–ê–°?

### ‚úÖ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:**
- –ü–æ–ª–Ω—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ RAG —Å–∏—Å—Ç–µ–º—ã (v0.3.0)
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (React + tRPC)
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –¢–µ—Å—Ç—ã (100% –ø–æ–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π)
- Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (CPU + GPU)

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ RunPod:**
- Python 3.11 + venv —Å –≤—Å–µ–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- PyTorch 2.9.0 —Å CUDA –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ intfloat/multilingual-e5-large (2.24 GB)
- Milvus Lite (embedded –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î)
- –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å API –∫–ª—é—á–æ–º OpenRouter
- –ì–û–°–¢ 27772-2021 –≤ data/raw/

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ LLM –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Claude 3.5 Sonnet —á–µ—Ä–µ–∑ OpenRouter)
- ‚úÖ –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ GPU (12 —Å–µ–∫—É–Ω–¥)
- ‚úÖ PDF –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## 4. –ö–ê–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ò–ú–ï–ï–ú –°–ï–ô–ß–ê–°?

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: Milvus –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–û—à–∏–±–∫–∞:**
```
MilvusException: (code=2, message=Fail connecting to server on localhost:19530, 
illegal connection params or server unavailable)
```

**–ü—Ä–∏—á–∏–Ω–∞:**
Milvus Lite (embedded –≤–µ—Ä—Å–∏—è) —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –ö–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Milvus –∫–∞–∫ –∫ –æ—Ç–¥–µ–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –Ω–∞ `localhost:19530`, –Ω–æ:

1. **Milvus Lite —Ä–∞–±–æ—Ç–∞–µ—Ç in-process** (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
2. **–¢–µ–∫—É—â–∏–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç pymilvus.connections.connect()** - —ç—Ç–æ –¥–ª—è standalone Milvus
3. **–î–ª—è Milvus Lite –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MilvusClient** —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Ñ–∞–π–ª–æ–º

**–ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–ª–∞:**
- –í –∫–æ–¥–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–æ–ª—å–∫–æ standalone Milvus
- Milvus Lite –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ–∑–∂–µ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Docker
- –ö–æ–¥ –Ω–µ –±—ã–ª –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ Milvus Lite

---

## 5. –í–ê–†–ò–ê–ù–¢–´ –†–ï–®–ï–ù–ò–Ø –ò –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ–¥ Milvus Lite (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ò–∑–º–µ–Ω–∏—Ç—å `src/vector_store/milvus_store.py`:
   ```python
   from milvus import default_server
   from pymilvus import MilvusClient
   
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å Milvus Lite —Å–µ—Ä–≤–µ—Ä
   default_server.start()
   
   # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MilvusClient –≤–º–µ—Å—Ç–æ connections.connect()
   client = MilvusClient(uri="./milvus_lite.db")
   ```

2. –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –≤ `MilvusManager`:
   - `connect()` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `MilvusClient`
   - `create_collection()` ‚Üí –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ Lite API
   - `insert()`, `search()` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å client API

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç Docker
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç in-process (–±—ã—Å—Ç—Ä–µ–µ)
- ‚úÖ –ü—Ä–æ—â–µ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
- ‚úÖ –ú–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å ~100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- ‚ö†Ô∏è Milvus Lite –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–¥–æ 1M –≤–µ–∫—Ç–æ—Ä–æ–≤)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç
- –í–µ–∫—Ç–æ—Ä—ã –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ `./milvus_lite.db`
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

**–í—Ä–µ–º—è:** 30-60 –º–∏–Ω—É—Ç

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Milvus Standalone

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –Ω–∞ RunPod:
   ```bash
   curl -fsSL https://get.docker.com -o get-docker.sh
   sh get-docker.sh
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Milvus —á–µ—Ä–µ–∑ docker-compose:
   ```bash
   cd /workspace/gost_rag
   docker-compose -f docker-compose.gpu.yml up -d milvus etcd minio
   ```

3. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫–∞ (1-2 –º–∏–Ω—É—Ç—ã)

4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ö–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è Milvus (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
- ‚úÖ –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç Docker (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- ‚ö†Ô∏è –ë–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (etcd + MinIO + Milvus)
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Milvus –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 19530
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**–í—Ä–µ–º—è:** 15-30 –º–∏–Ω—É—Ç

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Milvus Cloud (–ø–ª–∞—Ç–Ω—ã–π)

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ https://cloud.zilliz.com/
2. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä (Free Tier: 1 CU, 1GB RAM)
3. –ü–æ–ª—É—á–∏—Ç—å endpoint –∏ —Ç–æ–∫–µ–Ω
4. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```bash
   export MILVUS_HOST="your-cluster.aws-us-west-2.vectordb.zillizcloud.com"
   export MILVUS_PORT=19530
   export MILVUS_TOKEN="your-token"
   ```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ö–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –£–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Å–µ—Ä–≤–∏—Å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –ü–ª–∞—Ç–Ω—ã–π (Free Tier –æ–≥—Ä–∞–Ω–∏—á–µ–Ω)
- ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- ‚ö†Ô∏è –°–µ—Ç–µ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Milvus –≤ –æ–±–ª–∞–∫–µ
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –î–∞–Ω–Ω—ã–µ –≤ –æ–±–ª–∞–∫–µ

**–í—Ä–µ–º—è:** 10-15 –º–∏–Ω—É—Ç  
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** Free Tier –∏–ª–∏ ~$30/–º–µ—Å—è—Ü

---

## –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

### üéØ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø—É—Ç—å: –í–∞—Ä–∏–∞–Ω—Ç 1 (Milvus Lite)

**–ü–æ—á–µ–º—É:**
1. –£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`milvus==2.3.5`)
2. –ù–µ —Ç—Ä–µ–±—É–µ—Ç Docker
3. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞/MVP
4. –ë—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ

**–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:**

1. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª** `src/vector_store/milvus_lite_store.py`:
   ```python
   from milvus import default_server
   from pymilvus import MilvusClient
   
   class MilvusLiteManager:
       def __init__(self):
           default_server.start()
           self.client = MilvusClient(uri="./milvus_lite.db")
       
       # ... –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏
   ```

2. **–û–±–Ω–æ–≤–∏—Ç—å** `src/rag/rag_system.py`:
   - –ó–∞–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç –Ω–∞ `MilvusLiteManager`
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é:
   ```bash
   python -m src.main index --input data/raw --create-new
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å** –ø–æ–∏—Å–∫:
   ```bash
   python -m src.main extract --class-name C235
   ```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ì–û–°–¢ 27772-2021 (~2-3 –º–∏–Ω—É—Ç—ã)
- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î –≤ `./milvus_lite.db` (~50-100 MB)
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∞—Å—Å–∞—Ö –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞

---

## –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ (85%)

- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ RAG —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å GPU
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ RunPod
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤

### –û—Å—Ç–∞–ª–æ—Å—å (15%)

- ‚è≥ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ Milvus Lite (30-60 –º–∏–Ω)
- ‚è≥ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (2-3 –º–∏–Ω)
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ RAG —Å–∏—Å—Ç–µ–º—ã (5-10 –º–∏–Ω)
- ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (30-60 –º–∏–Ω)
- ‚è≥ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ (15-30 –º–∏–Ω)

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:** –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ–¥ Milvus Lite
2. **–ü–æ—Å–ª–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é
3. **–ó–∞—Ç–µ–º:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
4. **–§–∏–Ω–∞–ª:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## –§–ê–ô–õ–´ –ò –†–ï–°–£–†–°–´

**–°–µ—Ä–≤–µ—Ä RunPod:**
- SSH: `ssh root@213.192.2.89 -p 40039 -i ~/.ssh/id_ed25519`
- –ü—Ä–æ–µ–∫—Ç: `/workspace/gost_rag/`
- –õ–æ–≥–∏: `/tmp/indexing.log`
- Venv: `/workspace/gost_rag/venv/`

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
- URL: https://github.com/aruxojuyu665/EvrazSosetHuiHAHAHAHAHA_CTO_VERSION_BITCHES
- –í–µ—Ç–∫–∞: RAG-Milvus-Manus-Edition

**–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- Checkpoint: manus-webdev://459dc36c
- URL: https://3000-i0ftykpe12vkwus8cwjvm-82299c5a.manusvm.computer

**API –ö–ª—é—á–∏:**
- OpenRouter: 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

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ü—Ä–æ–µ–∫—Ç –Ω–∞ 85% –≥–æ—Ç–æ–≤. –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- –°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

–û—Å—Ç–∞–ª–æ—Å—å —Ä–µ—à–∏—Ç—å –æ–¥–Ω—É –ø—Ä–æ–±–ª–µ–º—É - –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ–¥ Milvus Lite (30-60 –º–∏–Ω—É—Ç —Ä–∞–±–æ—Ç—ã), –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞.

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ üöÄ
